<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API TEST</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <style>
        table,tr,th,td{
            border: 1px solid #000;
            border-collapse: collapse;
        }
        th,td{
            padding: 5px;
        }
    </style>
</head>
<body>

    <!-- modal -->
    <div id="mymodal" class="modal" style="background-color: #8080805e;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="modal-title">Update Form</div>
                    <button type="button" class="btn btn-close" data-bs-dismiss="modal" onclick="cl()"></button>
                </div>
                <div class="modal-body"></div>
                <div class="modal-footer"></div>
            </div>
    </div>
    </div>
    <script>
        let cl=()=>{ $("#mymodal").hide();}
    </script>

    <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#mymodal">click</button>

    <table id="mytable">
        <tr >
            <th rowspan="5">Id</th>
            <th rowspan="5">Name</th>
            <th rowspan="5">Username</th>
            <th rowspan="5">Email</th>
            <th colspan="6">Address</th>
            <th rowspan="5">Phone</th>
            <th rowspan="5">Website</th>
            <th rowspan="2" colspan="3">Company</th>
            <th rowspan="5">Action</th>
        </tr>
        <tr>
            <th rowspan="4">Street</th>
            <th rowspan="4">Suite</th>
            <th rowspan="4">City</th>
            <th rowspan="4">Zipcode</th>
            <th colspan="2">Geo</th>
        </tr>
        <tr>
            <th rowspan="3">Lat</th>
            <th rowspan="3">Lng</th>
        </tr>
        <tr>
            <th rowspan="2">Name</th>
            <th rowspan="2">CatchPhrase</th>
            <th rowspan="2">Bs</th>
        </tr>
        <!-- <tr>
            <th rowspan="2">Action</th>
        </tr> -->
    </table>
    <!-- <div style="width:100%;height:100%;">
        <div style="border-bottom: thin solid #000;padding:5px;">
            Address
        </div>
        <div style="display: flex;height: 100%;">
            <div style="border-right:1px solid black;padding:5px;">Street</div>
            <div style="border-right:1px solid black;padding:5px;">Suite</div>
            <div style="border-right:1px solid black;padding:5px;">City</div>
            <div style="border-right:1px solid black;padding:5px;">Zipcode</div>
            <div style="padding:5px;">Geo</div>
        </div>
    </div> -->
    <!-- <script>
        let mytable=document.getElementById("mytable");
        let xhr=new XMLHttpRequest();
        xhr.open("GET","https://jsonplaceholder.typicode.com/users");
        xhr.responseType="json";
        xhr.addEventListener('load',()=>{
            let arr=[],i=0;
            xhr.response.forEach(element => {
                
                let tr=document.createElement("tr");
                let tdo=document.createTextNode(`${xhr.response[i].id}`);
                let tdt=document.createTextNode(`${xhr.response[i].name}`);
                let tdth=document.createTextNode(`${xhr.response[i].username}`);
                let tdfo=document.createTextNode(`${xhr.response[i].email}`);
                let tdfi=document.createTextNode(`${xhr.response[i].address}`);
                let tdsi=document.createTextNode(`${xhr.response[i].phone}`);
                let tdse=document.createTextNode(`${xhr.response[i].website}`);
                let tdei=document.createTextNode(`${xhr.response[i].company}`);
                
                let tddo=document.createElement("td");
                tddo.appendChild(tdo);
                tr.appendChild(tddo);

                let tddt=document.createElement("td");
                tddt.appendChild(tdt);
                tr.appendChild(tddt);

                let tddth=document.createElement("td");
                tddth.appendChild(tdth);
                tr.appendChild(tddth);

                let tddfo=document.createElement("td");
                tddfo.appendChild(tdfo);
                tr.appendChild(tddfo);

                let tddfi=document.createElement("td");
                tddfi.appendChild(tdfi);
                tr.appendChild(tddfi);

                let tddsi=document.createElement("td");
                tddsi.appendChild(tdsi);
                tr.appendChild(tddsi);

                let tddse=document.createElement("td");
                tddse.appendChild(tdse);
                tr.appendChild(tddse);

                let tddei=document.createElement("td");
                tddei.appendChild(tdei);
                tr.appendChild(tddei);

                mytable.appendChild(tr);
                i++;
                
                // arr.push(<tr>
                //     <td>{xhr.response[i].id}</td>
                //     <td>{xhr.response[i].name}</td>
                //     <td>{xhr.response[i].username}</td>
                //     <td>{xhr.response[i].email}</td>
                //     <td>{xhr.response[i].address}</td>
                //     <td>{xhr.response[i].phone}</td>
                //     <td>{xhr.response[i].website}</td>
                //     <td>{xhr.response[i].company}</td>
                // </tr>);
                
            });
            for(let i=0;i<arr.length;i++){
                mytable.appendChild(arr[i]);
            }
            
        });
        xhr.addEventListener('error',()=>{
            console.log(xhr.status);
        })
        xhr.send();
        
    </script> -->

     <script>
        let mytable=document.getElementById("mytable");
        let xhr=new XMLHttpRequest();
        xhr.open("GET","https://jsonplaceholder.typicode.com/users");
        xhr.responseType="json";
        xhr.addEventListener('load',()=>{
            let arr=[],i=0;
            xhr.response.forEach(element => {
                
                let tr=document.createElement("tr");
                let tdo=document.createTextNode(`${xhr.response[i].id}`);
                let tdt=document.createTextNode(`${xhr.response[i].name}`);
                let tdth=document.createTextNode(`${xhr.response[i].username}`);
                let tdfo=document.createTextNode(`${xhr.response[i].email}`);
                let tdfio=document.createTextNode(`${xhr.response[i].address.street}`);
                let tdfit=document.createTextNode(`${xhr.response[i].address.suite}`);
                let tdfith=document.createTextNode(`${xhr.response[i].address.city}`);
                let tdfifo=document.createTextNode(`${xhr.response[i].address.zipcode}`);
                let tdfifi=document.createTextNode(`${xhr.response[i].address.geo.lng}`);
                let tdfifio=document.createTextNode(`${xhr.response[i].address.geo.lng}`);
                let tdsi=document.createTextNode(`${xhr.response[i].phone}`);
                let tdse=document.createTextNode(`${xhr.response[i].website}`);
                let tdeio=document.createTextNode(`${xhr.response[i].company.name}`);
                let tdeit=document.createTextNode(`${xhr.response[i].company.catchPhrase}`);
                let tdeith=document.createTextNode(`${xhr.response[i].company.bs}`);
                let tdni=document.createElement("i");
                tdni.classList.add("bi");
                tdni.classList.add("bi-pen");
                // tdni.setAttribute('onclick','ff(el)');
                        tdni.addEventListener('click',(el)=>{
                    console.log(el.currentTarget);
                    $("#mymodal").show();
                });
                tdni.setAttribute('rowdata',`${xhr.response[i].id}`);

                
                let tddo=document.createElement("td");
                tddo.appendChild(tdo);
                tr.appendChild(tddo);

                let tddt=document.createElement("td");
                tddt.appendChild(tdt);
                tr.appendChild(tddt);

                let tddth=document.createElement("td");
                tddth.appendChild(tdth);
                tr.appendChild(tddth);

                let tddfo=document.createElement("td");
                tddfo.appendChild(tdfo);
                tr.appendChild(tddfo);
//
                let tddfio=document.createElement("td");
                tddfio.appendChild(tdfio);
                tr.appendChild(tddfio);

                let tddfit=document.createElement("td");
                tddfit.appendChild(tdfit);
                tr.appendChild(tddfit);

                let tddfith=document.createElement("td");
                tddfith.appendChild(tdfith);
                tr.appendChild(tddfith);

                let tddfifo=document.createElement("td");
                tddfifo.appendChild(tdfifo);
                tr.appendChild(tddfifo);

                let tddfifi=document.createElement("td");
                tddfifi.appendChild(tdfifi);
                tr.appendChild(tddfifi);

                let tddfifio=document.createElement("td");
                tddfifio.appendChild(tdfifio);
                tr.appendChild(tddfifio);
//
                let tddsi=document.createElement("td");
                tddsi.appendChild(tdsi);
                tr.appendChild(tddsi);

                let tddse=document.createElement("td");
                tddse.appendChild(tdse);
                tr.appendChild(tddse);

                let tddeio=document.createElement("td");
                tddeio.appendChild(tdeio);
                tr.appendChild(tddeio);

                let tddeit=document.createElement("td");
                tddeit.appendChild(tdeit);
                tr.appendChild(tddeit);

                let tddeith=document.createElement("td");
                tddeith.appendChild(tdeith);
                tr.appendChild(tddeith);

                let tddni=document.createElement("td");
                tddni.appendChild(tdni);
                tr.appendChild(tddni);



                mytable.appendChild(tr);
                i++;
                
            });
            for(let i=0;i<arr.length;i++){
                mytable.appendChild(arr[i]);
            }
            
        });
        xhr.addEventListener('error',()=>{
            console.log(xhr.status);
        })
        xhr.send();
        
    </script> 
    <script defer>
        let ff=(el)=>{
            console.log(el.currentTarget);
            $("#mymodal").show();
        }
    </script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
</body>
</html>